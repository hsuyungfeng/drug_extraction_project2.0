# 版本变更日志

## v0.2.0 (2025-08-29)

### 🚀 主要特性

#### 五步法智能提取系统
- ✅ **完整实施五步法架构**: 中文名搜索 → 英文名搜索 → 成分搜索 → API提取 → 备用方案
- ✅ **批次处理系统**: 支持可配置的批次大小，每批处理10-30种药物
- ✅ **实时进度监控**: 完整的处理状态跟踪和错误恢复机制

#### 性能突破
- 🎯 **处理规模**: 成功处理 1,980 种台湾健保药物
- 📊 **提取成功率**: 10种药物完整提取 (0.5%)，1,980种部分提取 (99.5%)
- ⚡ **系统稳定性**: 100% 无崩溃连续运行
- ⏱️ **处理效率**: 平均每批药物15-20分钟

#### 技术架构优化
- 🤖 **本地LLM深度整合**: 使用 Ollama gpt-oss:20b 模型进行精准医疗信息提取
- 🔄 **智能缓存机制**: 避免重复搜索，支持接续处理
- 🛡️ **错误处理增强**: 网络请求重试、指数退避策略
- 📝 **详细日志系统**: 多层级日志记录便于故障排除

### 📁 数据成果
- **输入文件**: 14,621 种药物数据
- **已处理**: 1,980 种药物 (13.5%进度)
- **完整提取示例**: 
  - 鹽酸麻黃錠２５公絲 (全字段完整)
  - 安世多阿米諾思錠０．３公克 (全字段完整)
  - 明那膠囊 (全字段完整)
  - 複方甘草合劑液（不含阿片）(全字段完整)

### 🔧 技术改进
1. **搜索策略优化**: 中文名、英文名、成分搜索分别优化
2. **权威网站优先**: 台湾医疗资讯网站 + 国际权威药品数据库
3. **LLM提示词优化**: 特别针对用法用量信息提取
4. **内存管理**: 分批读取大型CSV文件，避免内存溢出
5. **API集成修复**: TFDA API JSON解析错误处理和Content-Type检查

### 🚀 使用方法更新
- **生产模式**: `IS_DEMO=false BATCH_SIZE=20 uv run python scripts/multi_source_extraction.py`
- **演示模式**: `IS_DEMO=true uv run python scripts/multi_source_extraction.py`
- **完整管道**: `uv run python run_extraction_pipeline.py`

### 📈 后续计划
- **v0.3.0**: PDF仿单提取功能开发
- **v0.4.0**: 多语言支持扩展
- **v0.5.0**: RESTful API 接口开发

---

## v0.1.0 (2025-08-22)
- **初始版本**: 基础架构搭建
- **单药物处理**: 支持单个药物的信息提取
- **基础功能**: Google搜索 + 本地LLM处理
- **数据输入**: 14,621种台湾健保药物数据